import QtQuick 2.15

Item 
{
	// per adesso non funziona
    onScoreStateChanged: function (state)
    {
        debug("onScoreStateChanged");

        if (state.selectionChanged)
        {
            var el = curScore ? curScore.selection.elements[0] : null;
            if (el && el.type == Element.CLEF)
                debug("HAI SELEZIONATO UNA CHIAVE");
            else
                debug("HAI SELEZIONATO UN'ALTRA COSA");
        }
    }
	
    function snippet1()
	{
		var segment = cursor.segment;
        while(segment !== null)
        {
            if(segment.segmentType == Segment.Clef || segment.segmentType == Segment.HeaderClef) // 64 -> CLEF
            {
                var clef = segment.elementAt(0);
                debug ("CLEF!" + clef._name());

                debug(listFunctions(segment.annotations));
                debug(listProperties(segment.annotations));
            }
            segment = segment.prev;
        }
    }
}
